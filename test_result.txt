Traceback (most recent call last):
  File "c:\Users\user\Documents\GitHub\study-app-project\test_extraction_simple.py", line 104, in test_text_splitting
    questions = extractor._split_into_questions(test_text)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\user\Documents\GitHub\study-app-project\services\past_question_extractor.py", line 211, in _split_into_questions
    print(f"\u2705 最終分割結果: {len(filtered_questions)}問 (パターン: {best_pattern})")
UnicodeEncodeError: 'cp932' codec can't encode character '\u2705' in position 0: illegal multibyte sequence
Traceback (most recent call last):
  File "c:\Users\user\Documents\GitHub\study-app-project\services\past_question_extractor.py", line 354, in _fallback_extraction
    print("\U0001f504 フォールバック抽出を開始します...")
UnicodeEncodeError: 'cp932' codec can't encode character '\U0001f504' in position 0: illegal multibyte sequence

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\user\Documents\GitHub\study-app-project\test_extraction_simple.py", line 44, in test_simple_fallback
    result = extractor._fallback_extraction(test_text)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\user\Documents\GitHub\study-app-project\services\past_question_extractor.py", line 505, in _fallback_extraction
    print(f"\u274c フォールバック抽出エラー: {e}")
UnicodeEncodeError: 'cp932' codec can't encode character '\u274c' in position 0: illegal multibyte sequence
過去問抽出テスト開始
==================================================
テキスト分割テスト
==================================================
INFO: テキスト分割開始: 総文字数 102
   パターン '【問\s*(\d+)】': 2個のマッチ
   パターン '問題?\s*(\d+)[.．)\s]': 0個のマッチ
   パターン '第\s*(\d+)\s*問[.．\s]': 0個のマッチ
   パターン 'Q\s*(\d+)[.．)\s]': 0個のマッチ
   パターン '(\d+)[.．\s]': 4個のマッチ
BEST: ベストパターン更新: '(\d+)[.．\s]' で 1問を検出
ERROR: テキスト分割エラー: 'cp932' codec can't encode character '\u2705' in position 0: illegal multibyte sequence

テキスト分割テスト: FAILED
==================================================
フォールバック抽出テスト
==================================================
テキスト長: 281 文字

フォールバック抽出を開始...

ERROR: テスト実行エラー: 'cp932' codec can't encode character '\u274c' in position 0: illegal multibyte sequence

フォールバック抽出テスト: FAILED

テストが失敗しました。
